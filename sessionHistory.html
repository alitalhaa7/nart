<!DOCTYPE HTML>
<html>

<head>
    <title>Assignment 2</title>
    <link rel="stylesheet" type="text/css" href="style.css">
<style>
    #tableList table, 
    #tableList td, 
    #tableList th {
    border: 2px solid white;
}

#tableList table{
    border-collapse: collapse;
    width: 100%;
}

#tableList td {
    height: 50px;
    vertical-align: bottom;
}
</style>
</head>


<body>


    <div id="changepin_entercurrent">
        <table class="navtable">
            <tr>
                <td onclick = "goto('./success.html')"style="width:80%;text-align:left;font-size:30px;font-weight:bold;font-family: Verdana;text-decoration:underline;"> &#8249;NART</td>
                <td style="width:20%;text-align:right;"><a style="text-decoration:none; font-size:15px;font-family: Arial; color:white;" href="./endsession.html"> SIGN OUT <img src="signout.png" width="25px"> </a></td>

            </tr>
        </table>
        <br>
        <h1>Transaction History</h1>
        <div id="accountinput">
    <table id= "tableList" class="centertable">
        <tr>
            <th>Time (yyyy/mm/dd)</th>
            <th>Action</th>
            <th>Account</th>
            <th>Amount</th>
            <th>Balance</th>
        </tr>
    </table>
    

</body>

<script>
    var transactions = JSON.parse(window.sessionStorage.getItem('transactions'));
    console.log(transactions);

   for (i = 0; i < transactions.length; i++) {
        var table = document.getElementById("tableList");
        var row = table.insertRow(1);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);
        var cell5 = row.insertCell(4);
        cell1.innerHTML = getTime();
        cell2.innerHTML = transactions[i].action;
        cell3.innerHTML = transactions[i].account;
        cell4.innerHTML = '$'+transactions[i].amount;
        cell5.innerHTML = '$'+transactions[i].balance;
        
   }
    function getTime(){
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; //January is 0!
        var yyyy = today.getFullYear();

        if(dd<10) {
            dd = '0'+dd
        } 

        if(mm<10) {
            mm = '0'+mm
        } 

        today = yyyy + '/' + mm + '/' + dd;
        return today;
    }
    function goto(x){
            window.location.href = x;
        }

</script>

</html>
